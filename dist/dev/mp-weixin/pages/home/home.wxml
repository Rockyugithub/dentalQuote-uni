<view class="container"><view class="header"><button class="refresh-btn" bindtap="{{a}}">刷新数据</button></view><view wx:if="{{b}}" class="project-list"><view wx:for="{{c}}" wx:for-item="project" wx:key="k" class="project-item"><view class="project-header" bindtap="{{project.h}}"><view class="project-select"><checkbox checked="{{project.a}}" catchtap="{{project.b}}"/><text wx:if="{{project.c}}" class="selected-count"> ({{project.d}}) </text></view><text class="project-name">{{project.e}}</text><view class="expand-icon"><uni-icons wx:if="{{project.g}}" u-i="{{project.f}}" bind:__l="__l" u-p="{{project.g}}"></uni-icons></view></view><view wx:if="{{project.i}}" class="product-list"><view wx:for="{{project.j}}" wx:for-item="product" wx:key="k" class="product-item"><view class="product-select"><checkbox checked="{{product.a}}" catchtap="{{product.b}}"/></view><view class="product-info"><text class="product-name">{{product.c}}</text><text class="product-price">¥{{product.d}}</text></view><view class="product-quantity"><button size="mini" disabled="{{product.e}}" bindtap="{{product.f}}">-</button><input type="number" min="1" class="quantity-input" bindchange="{{product.g}}" value="{{product.h}}" bindinput="{{product.i}}"/><button size="mini" bindtap="{{product.j}}">+</button></view></view></view></view></view><view wx:else class="empty-tip"><text wx:if="{{d}}">数据加载中...</text><text wx:else>暂无项目数据</text></view><view class="quote-section"><view class="quote-item"><text>成本总价:</text><text>¥{{e}}</text></view><view class="quote-item"><text>市场销售价:</text><input type="number" placeholder="输入价格" class="price-input" value="{{f}}" bindinput="{{g}}"/></view><view class="quote-item"><text>实际成交价:</text><input type="number" placeholder="输入价格" class="price-input" value="{{h}}" bindinput="{{i}}"/></view><view class="quote-item profit"><text>预计利润:</text><text class="{{[m && 'negative']}}"> ¥{{j}} <text wx:if="{{k}}" class="profit-percent"> ({{l}}%) </text></text></view></view><view class="bottom-actions"><button class="reset-btn" bindtap="{{n}}">重置</button><button class="submit-btn" bindtap="{{o}}">生成报价单</button></view><view wx:if="{{p}}" class="permission-buttons"><button wx:if="{{q}}" class="permission-btn" bindtap="{{r}}"> 产品管理 </button><button wx:if="{{s}}" class="permission-btn" bindtap="{{t}}"> 用户管理 </button></view></view>