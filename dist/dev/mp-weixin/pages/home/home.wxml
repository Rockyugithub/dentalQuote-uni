<view class="container"><view wx:if="{{a}}" class="project-list"><view wx:for="{{b}}" wx:for-item="project" wx:key="k" class="project-item"><view class="project-header" bindtap="{{project.h}}"><view class="project-select"><checkbox checked="{{project.a}}" catchtap="{{project.b}}"/><text wx:if="{{project.c}}" class="selected-count"> ({{project.d}}) </text></view><text class="project-name">{{project.e}}</text><view class="expand-icon"><uni-icons wx:if="{{project.g}}" u-i="{{project.f}}" bind:__l="__l" u-p="{{project.g}}"></uni-icons></view></view><view wx:if="{{project.i}}" class="product-list"><view wx:for="{{project.j}}" wx:for-item="product" wx:key="k" class="product-item"><view class="product-select"><checkbox checked="{{product.a}}" catchtap="{{product.b}}"/></view><view class="product-info"><text class="product-name">{{product.c}}</text><text class="product-price">¥{{product.d}}</text></view><view class="product-quantity"><button size="mini" disabled="{{product.e}}" bindtap="{{product.f}}">-</button><input type="number" min="1" class="quantity-input" bindchange="{{product.g}}" value="{{product.h}}" bindinput="{{product.i}}"/><button size="mini" bindtap="{{product.j}}">+</button></view></view></view></view></view><view wx:else class="empty-tip"><text wx:if="{{c}}">数据加载中...</text><text wx:else>暂无项目数据</text></view><view class="quote-section"><view class="quote-item"><text>零售价:</text><text>¥{{d}}</text></view><view class="quote-item"><text>实际成交价:</text><input type="number" placeholder="输入价格" class="price-input" value="{{e}}" bindinput="{{f}}"/></view><view class="quote-item commission"><text>业务员佣金:</text><text wx:if="{{g}}" class="warning">{{h}}</text><text wx:else class="amount"> ¥{{i}}</text></view></view><view class="bottom-actions"><button class="reset-btn" bindtap="{{j}}">重置</button><button class="submit-btn" bindtap="{{k}}">生成报价单</button></view><view wx:if="{{l}}" class="preview-section"><image src="{{m}}" mode="widthFix" class="quote-image" style="{{'height:' + n}}" bindtap="{{o}}"></image></view><view wx:if="{{p}}" class="permission-buttons"><button wx:if="{{q}}" class="permission-btn" bindtap="{{r}}"> 产品管理 </button><button wx:if="{{s}}" class="permission-btn" bindtap="{{t}}"> 用户管理 </button></view><canvas canvas-id="quoteCanvas" style="{{'position:fixed;top:-9999px;left:-9999px;width:100%' + ';' + ('height:' + v)}}"></canvas></view>